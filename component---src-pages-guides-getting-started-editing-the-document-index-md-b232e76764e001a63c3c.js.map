{"version":3,"sources":["webpack://uxp-photoshop-documentation/./src/pages/guides/getting-started/editing-the-document/index.md"],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"mappings":"mOAUsBA,E,wEAFTC,EAAe,GAOtBC,GALgBF,EAKY,cALJ,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,KAIZG,EAAc,CAClBL,gBAEIM,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGP,GACF,YACD,OAAO,SAACI,GAAD,UAAeD,EAAiBH,EAAhC,CAAuCO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,kCADR,mCAGA,+IACA,eACE,GAAM,iBADR,kBAGA,yLAEE,cAAGC,WAAW,IACZ,KAAQ,0CADV,uCAFF,MAKA,eACE,GAAM,8BADR,gCAGA,+HAAgH,uBAAYA,WAAW,KAAvB,cAAhH,WACA,iCAAkB,uBAAYA,WAAW,KAAvB,2BAAlB,oDAAyI,eAAIA,WAAW,KAAf,qBAAzI,eAAqM,eAAIA,WAAW,KAAf,mBAArM,MACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBADZ,6UAqBL,6DAA8C,uBAAYA,WAAW,KAAvB,MAA9C,QAAoG,uBAAYA,WAAW,KAAvB,eAApG,gEAA2N,eAAIA,WAAW,KAAf,WAA3N,0DACA,mBAAG,iBAAMA,WAAW,IAChB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPf,YAUC,iBAAMA,WAAW,OACf,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,QAAW,QACX,WAAc,oBACd,cAAiB,UAnBtB,QAsBH,oBAASA,WAAW,QAApB,gBACQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,gFACX,MAAS,kCACT,KAAQ,eAJhB,gBAMQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,+EACX,MAAS,kCACT,KAAQ,cAThB,gBAWQ,gBAAKA,WAAW,UAChB,UAAa,0BACb,IAAO,yEACP,IAAO,kDACP,MAAS,kDACT,QAAW,OACX,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,QAAW,IACX,WAAc,eACd,MAAS,UACT,UAAa,+BACb,IAAO,IACP,KAAQ,OA5BlB,cAtBG,YAuDH,eACE,GAAM,6BADR,uBAE0B,uBAAYA,WAAW,MAAvB,cAC1B,mDAAoC,uBAAYA,WAAW,KAAvB,YAApC,iIACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,eADZ,0DAIL,uJACA,mBAAG,iBAAMA,WAAW,IAChB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPf,YAUC,iBAAMA,WAAW,OACf,UAAa,qCACb,MAAS,CACP,cAAiB,WACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,QAAW,QACX,WAAc,oBACd,cAAiB,UAnBtB,QAsBH,oBAASA,WAAW,QAApB,gBACQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,+FAAgG,+FAAgG,gGAC3M,MAAS,kCACT,KAAQ,eAJhB,gBAMQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,8FAA+F,8FAA+F,+FACzM,MAAS,kCACT,KAAQ,cAThB,gBAWQ,gBAAKA,WAAW,UAChB,UAAa,0BACb,IAAO,yFACP,IAAO,qKACP,MAAS,qKACT,QAAW,OACX,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,QAAW,IACX,WAAc,eACd,MAAS,UACT,UAAa,+BACb,IAAO,IACP,KAAQ,OA5BlB,cAtBG,YAuDH,SAACV,EAAD,CAAaW,QAAQ,OAAOC,MAAM,OAAOH,QAAQ,iBACjD,sFAAuE,eAAIC,WAAW,KAAf,WAAvE,4DAEA,2EAA4D,uBAAYA,WAAW,KAAvB,4EAA5D,uPAAua,uBAAYA,WAAW,KAAvB,kBAAva,qDAAshB,cAAGA,WAAW,IAChiB,KAAQ,iEAD0gB,oCAAthB,MAGA,kCAAmB,uBAAYA,WAAW,KAAvB,YAAnB,6BACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,eADZ,ueAuBL,qJACA,mBAAG,iBAAMA,WAAW,IAChB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPf,YAUC,iBAAMA,WAAW,OACf,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,QAAW,QACX,WAAc,oBACd,cAAiB,UAnBtB,QAsBH,oBAASA,WAAW,QAApB,gBACQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,sFACX,MAAS,kCACT,KAAQ,eAJhB,gBAMQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,qFACX,MAAS,kCACT,KAAQ,cAThB,gBAWQ,gBAAKA,WAAW,UAChB,UAAa,0BACb,IAAO,+EACP,IAAO,oFACP,MAAS,oFACT,QAAW,OACX,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,QAAW,IACX,WAAc,eACd,MAAS,UACT,UAAa,+BACb,IAAO,IACP,KAAQ,OA5BlB,cAtBG,YAuDH,eACE,GAAM,oDADR,sDAGA,sFAAuE,eAAIA,WAAW,KAAf,mBAAvE,gNACA,mBAAG,iBAAMA,WAAW,IAChB,UAAa,4BACb,MAAS,CACP,SAAY,WACZ,QAAW,QACX,WAAc,OACd,YAAe,OACf,SAAY,UAPf,YAUC,iBAAMA,WAAW,OACf,UAAa,qCACb,MAAS,CACP,cAAiB,sBACjB,SAAY,WACZ,OAAU,IACV,KAAQ,IACR,QAAW,QACX,WAAc,oBACd,cAAiB,UAnBtB,QAsBH,oBAASA,WAAW,QAApB,gBACQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,6FACX,MAAS,kCACT,KAAQ,eAJhB,gBAMQ,mBAAQA,WAAW,UACnB,OAAU,CAAC,4FACX,MAAS,kCACT,KAAQ,cAThB,gBAWQ,gBAAKA,WAAW,UAChB,UAAa,0BACb,IAAO,sFACP,IAAO,uDACP,MAAS,uDACT,QAAW,OACX,MAAS,CACP,MAAS,OACT,OAAU,OACV,OAAU,IACV,cAAiB,SACjB,SAAY,WACZ,QAAW,IACX,WAAc,eACd,MAAS,UACT,UAAa,+BACb,IAAO,IACP,KAAQ,OA5BlB,cAtBG,YAuDH,4EACA,qBAAK,iBAAMA,WAAW,MAClB,UAAa,eADZ,sYAaL,wCAAyB,uBAAYA,WAAW,KAAvB,YAAzB,6HACA,eACE,GAAM,cADR,eAGA,2MAA4L,cAAGA,WAAW,IACtM,KAAQ,kDADgL,2BAA5L,yCAGA,mBAAG,cAAGA,WAAW,IACb,KAAQ,8BADT,wBAAH,2FAE4H,uBAAYA,WAAW,KAAvB,QAF5H,sCAOJH,EAAWM,gBAAiB","file":"component---src-pages-guides-getting-started-editing-the-document-index-md-b232e76764e001a63c3c.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/uxp-photoshop/uxp-photoshop/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"editing-the-photoshop-document\"\n    }}>{`Editing the Photoshop document`}</h1>\n    <p>{`In this tutorial, you'll learn how to edit your document (more specifically, edit the layer names within your document).`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <p>{`To follow this tutorial, you need to have a plugin development project ready to go. If you don't have a plugin\ndevelopment project, yet, please first follow\nthe `}<a parentName=\"p\" {...{\n        \"href\": \"../creating-your-first-plugin/index.md\"\n      }}>{`Creating your first plugin tutorial`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"step-1-adjust-the-panel-ui\"\n    }}>{`Step 1: Adjust the panel UI`}</h2>\n    <p>{`Since the plugin no longer needs to show the layer names in its UI, we can remove some elements from the `}<inlineCode parentName=\"p\">{`index.html`}</inlineCode>{` file.`}</p>\n    <p>{`Remove the `}<inlineCode parentName=\"p\">{`<sp-body id=\"layers\" />`}</inlineCode>{` element, its associated styles, and rename the `}<em parentName=\"p\">{`\"Populate Layers\"`}</em>{` button to `}<em parentName=\"p\">{`\"Rename Layers\"`}</em>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-html\"\n      }}>{`<!DOCTYPE html>\n<html>\n  <head>\n    <script src=\"index.js\"></script>\n  </head>\n  <style>\n    body {\n      color: white;\n      padding: 0 16px;\n    }\n  </style>\n  <body>\n    <sp-heading>Layers</sp-heading>\n    <footer>\n      <sp-button id=\"btnRename\">Rename Layers</sp-button>\n    </footer>\n  </body>\n</html>\n`}</code></pre>\n    <p>{`Note that we also changed the button's `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`\"btnRename\"`}</inlineCode>{`. With that (after re-loading, in case you don't have UDT's `}<em parentName=\"p\">{`\"Watch\"`}</em>{` function enabled), your panel should look like this:`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"251px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"148.20717131474103%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/a1942babd3e4a14bb5cfae6486e921d4/bbf50/panel.webp 251w\"],\n            \"sizes\": \"(max-width: 251px) 100vw, 251px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/a1942babd3e4a14bb5cfae6486e921d4/26abe/panel.png 251w\"],\n            \"sizes\": \"(max-width: 251px) 100vw, 251px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/uxp-photoshop/static/a1942babd3e4a14bb5cfae6486e921d4/26abe/panel.png\",\n            \"alt\": \"A Photoshop panel with a button \\\"Rename Layers\\\"\",\n            \"title\": \"A Photoshop panel with a button \\\"Rename Layers\\\"\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <h2 {...{\n      \"id\": \"step-2-adjust-the-indexjs\"\n    }}>{`Step 2: Adjust the `}<inlineCode parentName=\"h2\">{`index.js`}</inlineCode></h2>\n    <p>{`Next, you need to adjust the `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{` code to match the new functionality. You might have already tried (while tinkering around) to just use something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`layer.name = \\`\\${layer.name} (\\${layer.opacity} %)\\`;\n`}</code></pre>\n    <p>{`While that's already close, you will run into an error stating that \"Such events are only allowed from inside the modal scope\":`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"994px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"37.8125%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/cb523/modal-execution-error.webp 320w\", \"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/797b9/modal-execution-error.webp 640w\", \"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/ce056/modal-execution-error.webp 994w\"],\n            \"sizes\": \"(max-width: 994px) 100vw, 994px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/72799/modal-execution-error.png 320w\", \"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/6af66/modal-execution-error.png 640w\", \"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/75609/modal-execution-error.png 994w\"],\n            \"sizes\": \"(max-width: 994px) 100vw, 994px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/uxp-photoshop/static/1f41fd1df8758fb975c9221a2327216e/75609/modal-execution-error.png\",\n            \"alt\": \"Chrome Developer Tools showing an error: \\\"Uncaught Error: Event: select may modify the state of Photoshop. Such events are only allowed from inside a modal scope\\\"\",\n            \"title\": \"Chrome Developer Tools showing an error: \\\"Uncaught Error: Event: select may modify the state of Photoshop. Such events are only allowed from inside a modal scope\\\"\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <InlineAlert variant=\"info\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`To open a Chrome Developer Tools window for your plugin, select `}<em parentName=\"p\">{`\"Debug\"`}</em>{` in the plugin actions menu in the UXP\nDeveloper Tool.`}</p>\n    <p>{`To get this to work, you need to wrap your code in a `}<inlineCode parentName=\"p\">{`window.require('photoshop').core.executeAsModal(targetFunction, options)`}</inlineCode>{` call. This creates a context in which your plugin has exclusive access to manipulating the document and thus ensures that no changes can be made to the document while your code executes (which could result in strange errors). You need to use `}<inlineCode parentName=\"p\">{`executeAsModal`}</inlineCode>{` for any operation that could edit the document. `}<a parentName=\"p\" {...{\n        \"href\": \"/uxp-photoshop/src/pages/ps_reference/media/executeasmodal.md\"\n      }}>{`Learn more about modal execution`}</a>{`.`}</p>\n    <p>{`Adjust your `}<inlineCode parentName=\"p\">{`index.js`}</inlineCode>{` code to look like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`function renameLayerNames() {\n  return window.require(\"photoshop\").core.executeAsModal(\n    () => {\n      // now, we have write-access\n\n      const app = window.require(\"photoshop\").app;\n\n      app.activeDocument.layers.forEach((layer) => {\n        layer.name = \\`\\${layer.name} (\\${layer.opacity} %)\\`;\n      });\n    },\n    {\n      commandName: \"Rename layers\",\n    }\n  );\n}\n\ndocument\n  .getElementById(\"btnRename\")\n  .addEventListener(\"click\", renameLayerNames);\n`}</code></pre>\n    <p>{`When you reload your plugin using the UDT and press the new button, you can see that the layer names get adjusted accordingly:`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"254px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"52.362204724409445%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/a1cd6f74f71ce29dc3092b96a5b362cb/14ddf/layer-names.webp 254w\"],\n            \"sizes\": \"(max-width: 254px) 100vw, 254px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/a1cd6f74f71ce29dc3092b96a5b362cb/6a91e/layer-names.png 254w\"],\n            \"sizes\": \"(max-width: 254px) 100vw, 254px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/uxp-photoshop/static/a1cd6f74f71ce29dc3092b96a5b362cb/6a91e/layer-names.png\",\n            \"alt\": \"Photoshop Layers panel with layer names \\\"Layer 1 (60 %)\\\" and \\\"Background (100 %)\\\"\",\n            \"title\": \"Photoshop Layers panel with layer names \\\"Layer 1 (60 %)\\\" and \\\"Background (100 %)\\\"\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <h2 {...{\n      \"id\": \"step-3-solve-problem-with-consecutive-executions\"\n    }}>{`Step 3: Solve problem with consecutive executions`}</h2>\n    <p>{`If you already have some development experience (or pressed the `}<em parentName=\"p\">{`\"Rename Layers\"`}</em>{` buttons more than one time), you might already see a problem with our implementation. While the button works perfectly for the first time, every other time, it adds another percentage to the layer name:`}</p>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"246px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"25.609756097560975%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"display\": \"block\",\n            \"transition\": \"opacity 0.5s 0.5s\",\n            \"pointerEvents\": \"none\"\n          }\n        }}></span>{`\n  `}<picture parentName=\"span\">{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/23f1556277ec5c03fed1101ac6af1b8d/18074/layer-name-problem.webp 246w\"],\n            \"sizes\": \"(max-width: 246px) 100vw, 246px\",\n            \"type\": \"image/webp\"\n          }}></source>{`\n          `}<source parentName=\"picture\" {...{\n            \"srcSet\": [\"/uxp-photoshop/static/23f1556277ec5c03fed1101ac6af1b8d/92252/layer-name-problem.png 246w\"],\n            \"sizes\": \"(max-width: 246px) 100vw, 246px\",\n            \"type\": \"image/png\"\n          }}></source>{`\n          `}<img parentName=\"picture\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"src\": \"/uxp-photoshop/static/23f1556277ec5c03fed1101ac6af1b8d/92252/layer-name-problem.png\",\n            \"alt\": \"A layer with the name \\\"Layer 1 (60 %) (60 %) (60 %)\\\"\",\n            \"title\": \"A layer with the name \\\"Layer 1 (60 %) (60 %) (60 %)\\\"\",\n            \"loading\": \"lazy\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"opacity\": \"0\",\n              \"transition\": \"opacity 0.5s\",\n              \"color\": \"inherit\",\n              \"boxShadow\": \"inset 0px 0px 0px 400px none\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            }\n          }}></img>{`\n        `}</picture>{`\n    `}</span></p>\n    <p>{`To fix this, change your layer loop to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// [...]\napp.activeDocument.layers.forEach((layer) => {\n    // Regular Expression that searches for the layer's name\n    // without a previously appended layer opacity.\n    // Cf. https://regex101.com/r/iWF1Yw/1\n    const regExp = /^(.*?)( \\\\(\\\\d+ %\\\\))?$/;\n    const baseName = layer.name.match(regExp)[1];\n    layer.name = \\`\\${baseName} (\\${layer.opacity} %)\\`;\n});\n// [...]\n`}</code></pre>\n    <p>{`This extracts the `}<inlineCode parentName=\"p\">{`baseName`}</inlineCode>{`, i.e., the layer name without an optional percentage after it, and always uses this as the base for the new layer name.`}</p>\n    <h2 {...{\n      \"id\": \"next-steps\"\n    }}>{`Next steps`}</h2>\n    <p>{`You now know how to use the Photoshop APIs to both read and write your document. As a rule of thumb, calling methods and setting properties that are declared as \"Read-write\" in the `}<a parentName=\"p\" {...{\n        \"href\": \"/uxp-photoshop/src/pages/ps_reference/index.md\"\n      }}>{`Photoshop API Reference`}</a>{` requires a modal execution context.`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"../writing-a-file/index.md\"\n      }}>{`In the next tutorial`}</a>{`, you will learn how to use the UXP APIs to interact with the file system and create a `}<inlineCode parentName=\"p\">{`.tsv`}</inlineCode>{` file with a list of your layers.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}