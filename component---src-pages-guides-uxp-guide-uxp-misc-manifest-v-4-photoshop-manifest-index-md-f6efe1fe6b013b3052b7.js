"use strict";(self.webpackChunkuxp_photoshop_documentation=self.webpackChunkuxp_photoshop_documentation||[]).push([[7763],{31359:function(e,n,i){i.r(n),i.d(n,{_frontmatter:function(){return p},default:function(){return r}});var t=i(87462),a=i(45987),o=(i(15007),i(64983)),s=i(91515);const l=["components"],p={},d={_frontmatter:p},m=s.Z;function r(e){let{components:n}=e,i=(0,a.Z)(e,l);return(0,o.mdx)(m,(0,t.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"photoshop-specific-manifest-properties"},"Photoshop specific manifest properties"),(0,o.mdx)("p",null,'With Photoshop added as a "host" in the UXP plugin manifest, there are a few options available under the ',(0,o.mdx)("inlineCode",{parentName:"p"},"data")," object."),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"apiVersion"),(0,o.mdx)("li",{parentName:"ul"},"loadEvent"),(0,o.mdx)("li",{parentName:"ul"},"enableMenuRecording")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "manifestVersion": 4,\n    "id": "YOUR_ID_HERE",\n    "name": "Name of your plugin",\n    "version": "1.0.0",\n    "main": "index.html",\n    "host": {\n        "app": "PS",\n        "minVersion": "23.0.0",\n        "data" : {\n          "apiVersion": 2,\n          "loadEvent": "use",\n          "enableMenuRecording": true\n        },\n    },\n    "entrypoints": [\n      {\n        "type": "command",\n        "id": "MENU_ITEM_ID",\n        "label": { "default": "menu item\'s text"}\n      }\n    ]\n}\n')),(0,o.mdx)("h2",{id:"apiversion"},"apiVersion"),(0,o.mdx)("p",null,"A limitation of the UXP implementation in Photoshop 2021 is that it does not provide a mechanism for plugins to run in isolation. Photoshop 2021 allows any plugin to modify Photoshop at any time. This includes scenarios when other plugins are active."),(0,o.mdx)("p",null,"Photoshop 2022 has removed this limitation by introducing the modal JavaScript scope. Only one plugin can be inside a modal JavaScript scope at any time. See ",(0,o.mdx)("a",{parentName:"p",href:"../../../../../ps_reference/media/executeasmodal/"},"executeAsModal")," for details."),(0,o.mdx)("p",null,"The modal scope feature is not compatible with the original implementation because it imposes restrictions on when plugins may modify Photoshop.\nIt is these restrictions that guarantee against multiple plugins modifying Photoshop at the same time."),(0,o.mdx)("p",null,"In order to allow plugin developers to gradually move to the new model, Photoshop 2022 supports both the original and the new JavaScript modes. A plugin uses the apiVersion field to specify which model it uses."),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"apiVersion")," of ",(0,o.mdx)("strong",{parentName:"li"},"1")," signifies that the plugin is using the original Photoshop 2021 implementation."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"apiVersion")," of ",(0,o.mdx)("strong",{parentName:"li"},"2")," signifies that the plugin is using the new modal JavaScript paradigm.")),(0,o.mdx)("p",null,"With the introduction of apiVersion = 2, the original implementation is formally deprecated, and support for apiVersion 1 will be removed in a future major update to Photoshop. As such a number of new features are only available for apiVersion 2 plugins. apiVersion 2 only features include: new DOM v2, support for suspend and resume of multiple history states at the same time."),(0,o.mdx)("h3",{id:"default-value"},"Default value"),(0,o.mdx)("p",null,"The apiVersion field is optional. Its default value depends on the version of Photoshop that a plugin is targeting:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"A plugin whose minimum version is less than 23.0.0, will be assigned an apiVersion of 1 unless the plugin specifies otherwise in its manifest."),(0,o.mdx)("li",{parentName:"ul"},"A plugin whose minimum version is 23.0.0, or greater, will be assigned an apiVersion of 2 unless the plugin specifies otherwise in its manifest.")),(0,o.mdx)("h3",{id:"why-use-version-1-2021"},"Why use version 1 (2021)?"),(0,o.mdx)("p",null,"At this point, we expect almost all plugins to be able to use apiVersion 2. There were some early limitations that we believe are now addressed by executeAsModal's interactive mode. "),(0,o.mdx)("h2",{id:"loadevent"},"loadEvent"),(0,o.mdx)("blockquote",null,(0,o.mdx)("p",{parentName:"blockquote"},(0,o.mdx)("inlineCode",{parentName:"p"},"Available in Photoshop 23.1 and later"))),(0,o.mdx)("p",null,"Plugins use memory and CPU resources when loaded. In order to minimize the impact on general Photoshop performance, plugins are by default loaded only when needed. The default mechanism will load a plugin when its panel UI becomes visible, or when the user chooses to execute a plugin command from the ",(0,o.mdx)("inlineCode",{parentName:"p"},"Plugins")," menu."),(0,o.mdx)("p",null,"Certain use cases require that a plugin is loaded when Photoshop is launched. Such use cases include plugins that listen and respond to user actions, and plugins that needs to communicate with a remote server or process when Photoshop is running."),(0,o.mdx)("p",null,"The loadEvent field allows a plugin to specify when it is loaded. The possible values are:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"use"),": The plugin is loaded when needed (when its UI become visible, or when a plugin command is executed). This is the default value."),(0,o.mdx)("li",{parentName:"ul"},(0,o.mdx)("inlineCode",{parentName:"li"},"startup"),": The plugin is loaded automatically shortly after Photoshop is launched.")),(0,o.mdx)("h2",{id:"enablemenurecording"},"enableMenuRecording"),(0,o.mdx)("p",null,(0,o.mdx)("a",{parentName:"p",href:"../index.md#entry-points"},"Menu items")," (",(0,o.mdx)("inlineCode",{parentName:"p"},'type: "command"'),") defined in the manifest's ",(0,o.mdx)("inlineCode",{parentName:"p"},"entrypoints")," will appear under that plugin's submenu under the top-level Plugins menu. Those menu items can be recorded as Action steps by setting ",(0,o.mdx)("inlineCode",{parentName:"p"},"enableMenuRecording")," to ",(0,o.mdx)("inlineCode",{parentName:"p"},"true"),'.  Once set, those menu items will appear in a recorded Action as "Plugin Menu Command" along with the label of the menu item.'),(0,o.mdx)("p",null,(0,o.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"520px"}},"\n      ",(0,o.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.4375%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,o.mdx)("picture",{parentName:"span"},"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/uxp-photoshop/static/234d2511f5cc0674d4603cb3414aac1d/5530d/menu_recording.webp 320w","/uxp-photoshop/static/234d2511f5cc0674d4603cb3414aac1d/29f9e/menu_recording.webp 520w"],sizes:"(max-width: 520px) 100vw, 520px",type:"image/webp"}),"\n          ",(0,o.mdx)("source",{parentName:"picture",srcSet:["/uxp-photoshop/static/234d2511f5cc0674d4603cb3414aac1d/dd4a7/menu_recording.png 320w","/uxp-photoshop/static/234d2511f5cc0674d4603cb3414aac1d/407f2/menu_recording.png 520w"],sizes:"(max-width: 520px) 100vw, 520px",type:"image/png"}),"\n          ",(0,o.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uxp-photoshop/static/234d2511f5cc0674d4603cb3414aac1d/407f2/menu_recording.png",alt:"Actions panel entry",title:"Actions panel entry",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-uxp-guide-uxp-misc-manifest-v-4-photoshop-manifest-index-md-f6efe1fe6b013b3052b7.js.map