(self.webpackChunkuxp_photoshop_documentation=self.webpackChunkuxp_photoshop_documentation||[]).push([[2855],{90568:function(e,t,o){"use strict";o.r(t),o.d(t,{_frontmatter:function(){return h},default:function(){return d}});var n=o(22122),i=o(19756),a=(o(15007),o(64983)),s=o(99536),r=["components"],h={},l={_frontmatter:h},p=s.Z;function d(e){var t=e.components,o=(0,i.Z)(e,r);return(0,a.mdx)(p,(0,n.Z)({},l,o,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"photoshop-api"},"Photoshop API"),(0,a.mdx)("h2",{id:"introduction"},"Introduction"),(0,a.mdx)("p",null,"With the introduction of Unified Extensibility Platform (UXP), Photoshop now runs a JavaScript engine powered by V8. UXP provides a truly native extensibility solution in Photoshop by rendering HTML markup into native controls. Plugins run within the same process, and communicate with the Photoshop DOM asynchronously, allowing the UI to run on its own thread. "),(0,a.mdx)("h2",{id:"usage"},"Usage"),(0,a.mdx)("p",null,"The API library is built into every build of Photoshop. To use the APIs in your UXP plugin, all you have to do is a simple require. The ",(0,a.mdx)("inlineCode",{parentName:"p"},"app")," object exposed in the module gives you entry point into the rest of the DOM."),(0,a.mdx)("h3",{id:"an-example-script"},"An example script"),(0,a.mdx)("p",null,"A script that deletes the top most layer in the currently active document may look like this:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-javascript"},"let layerTree = require('photoshop').app.activeDocument.layerTree\nlayerTree[0].delete()\n")),(0,a.mdx)("h2",{id:"api-usability"},"API Usability"),(0,a.mdx)("p",null,"The Photoshop API provides two layers of usability. The main layer, accessed through the ",(0,a.mdx)("inlineCode",{parentName:"p"},"app")," object provides you with stateful JS models that represent Photoshop and its models. This layer will be familiar to those who have used the ExtendScript DOM."),(0,a.mdx)("p",null,"Underneath, Photoshop exposes ",(0,a.mdx)("inlineCode",{parentName:"p"},"batchPlay"),", which takes an array of JSON objects (",(0,a.mdx)("inlineCode",{parentName:"p"},"ActionDescriptors"),"), and injects the described actions into Photoshop event system. If you're familiar with ExtendScript or CEP, batchPlay is the evolution of ",(0,a.mdx)("inlineCode",{parentName:"p"},"executeAction")," and ",(0,a.mdx)("inlineCode",{parentName:"p"},"executeActionGet"),". "),(0,a.mdx)("p",null,"With our DOM APIs, our motivation is to abstract away ",(0,a.mdx)("inlineCode",{parentName:"p"},"batchPlay")," completely, but it's still there if you'd like to use it."),(0,a.mdx)("h2",{id:"asynchrony-vs-synchrony"},"Asynchrony vs Synchrony"),(0,a.mdx)("p",null,"In ExtendScript, all DOM methods were synchronous, and would also block the UI. With UXP, the calls made into Photoshop can either be asynchronous\nor synchronous. The DOM APIs are designed to be synchronous where it makes sense, and asynchronous for more expensive operations."),(0,a.mdx)("p",null,"The rule of thumb is that properties of models are synchronous. Methods affecting the models, particularly ones that create new models are, in general, asynchronous."))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-ps-reference-index-md-30a59815413803716dc1.js.map