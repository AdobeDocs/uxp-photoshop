"use strict";(self.webpackChunkuxp_photoshop_documentation=self.webpackChunkuxp_photoshop_documentation||[]).push([[47763],{31359:function(e,n,i){i.r(n),i.d(n,{_frontmatter:function(){return p},default:function(){return u}});var o=i(87462),t=i(63366),a=(i(15007),i(64983)),s=i(91515),l=["components"],p={},d={_frontmatter:p},r=s.Z;function u(e){var n=e.components,i=(0,t.Z)(e,l);return(0,a.mdx)(r,(0,o.Z)({},d,i,{components:n,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"photoshop-product-specific-manifest"},"Photoshop Product specific manifest"),(0,a.mdx)("p",null,"In addition to the common UXP manifest attributes, Photoshop has an additional key/value field ",(0,a.mdx)("inlineCode",{parentName:"p"},"apiVersion"),". This field is located under the ",(0,a.mdx)("inlineCode",{parentName:"p"},"data")," object inside the ",(0,a.mdx)("inlineCode",{parentName:"p"},"host")," value.\nThe following illustrates the use of the ",(0,a.mdx)("inlineCode",{parentName:"p"},"apiVersion")," field."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "manifestVersion": 4,\n    "id": "YOUR_ID_HERE",\n    "name": "Name of your plugin",\n    "version": "1.0.0",\n    "main": "index.html",\n    "host": {\n        "app": "PS",\n        "minVersion": "23.0.0",\n        "data" : {\n          "apiVersion": 2,\n          "loadEvent": "use"\n        }\n    },\n}\n')),(0,a.mdx)("h2",{id:"apiversion"},"apiVersion"),(0,a.mdx)("p",null,"A limitation of the UXP implementation in Photoshop 2021 is that it does not provide a mechanism for plugins to run in isolation. Photoshop 2021 allows any plugin to modify Photoshop at any time. This includes scenarios when other plugins are active."),(0,a.mdx)("p",null,"Photoshop 2022 has removed this limitation by introducing the modal JavaScript scope. Only one plugin can be inside a modal JavaScript scope at any time. See ",(0,a.mdx)("a",{parentName:"p",href:"../../../../../ps_reference/media/executeasmodal/"},"executeAsModal")," for details."),(0,a.mdx)("p",null,"The modal scope feature is not compatible with the original implementation because it imposes restrictions on when plugins may modify Photoshop.\nIt is these restrictions that guarantee against multiple plugins modifying Photoshop at the same time."),(0,a.mdx)("p",null,"In order to allow plugin developers to gradually move to the new model, Photoshop 2022 supports both the original and the new JavaScript modes. A plugin uses the apiVersion field to specify which model it uses."),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"apiVersion")," of ",(0,a.mdx)("strong",{parentName:"li"},"1")," signifies that the plugin is using the original Photoshop 2021 implementation."),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"apiVersion")," of ",(0,a.mdx)("strong",{parentName:"li"},"2")," signifies that the plugin is using the new modal JavaScript feature.")),(0,a.mdx)("p",null,"With the introduction of apiVersion = 2, the original implementation is formally deprecated, and support for apiVersion 1 will be removed in a future major update to Photoshop. As such a number of new features are only available for apiVersion 2 plugins. apiVersion 2 only features include: new DOM v2, support for suspend and resume of multiple history states at the same time."),(0,a.mdx)("h3",{id:"default-value"},"Default value"),(0,a.mdx)("p",null,"The apiVersion field is optional. Its default value depends on the version of Photoshop that a plugin is targeting:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"A plugin whose minimum version is less than 23.0.0, will be assigned an apiVersion of 1 unless the plugin specifies otherwise in its manifest."),(0,a.mdx)("li",{parentName:"ul"},"A plugin whose minimum version is 23.0.0, or greater, will be assigned an apiVersion of 2 unless the plugin specifies otherwise in its manifest.")),(0,a.mdx)("h3",{id:"why-downgrade"},"Why downgrade?"),(0,a.mdx)("p",null,"Most plugins will be able to use apiVersion 2."),(0,a.mdx)("p",null,"Specialized plugins that rely on the Photoshop menu state, or on other non-modal user interactions while the plugin is running may need to stay with apiVersion 1 until such use cases are fully supported by Photoshop."),(0,a.mdx)("h2",{id:"loadevent"},"loadEvent"),(0,a.mdx)("blockquote",null,(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"Available in Photoshop 23.1 and later"))),(0,a.mdx)("p",null,"Plugins use memory and CPU resources when loaded. In order to minimize the impact on general Photoshop performance, plugins are by default loaded only when needed. The default mechanism will load a plugin when its panel UI becomes visible, or when the user chooses to execute a plugin command from the ",(0,a.mdx)("inlineCode",{parentName:"p"},"Plugins")," menu."),(0,a.mdx)("p",null,"Certain use cases require that a plugin is loaded when Photoshop is launched. Such use cases include plugins that listen and respond to user actions, and plugins that needs to communicate with a remote server or process when Photoshop is running."),(0,a.mdx)("p",null,"The loadEvent field allows a plugin to specify when it is loaded. The possible values are:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"use"),": The plugin is loaded when needed (when its UI become visible, or when a plugin command is executed). This is the default value."),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"startup"),": The plugin is loaded automatically shortly after Photoshop is launched.")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-uxp-guide-uxp-misc-manifest-v-4-photoshop-manifest-index-md-13d0890b05b7cc8aeaf2.js.map