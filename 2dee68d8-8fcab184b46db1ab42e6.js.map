{"version":3,"sources":["webpack://uxp-photoshop-documentation/./node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js"],"names":["filterChildren","childrenArray","query","hasSideNav","filteredChildren","heroChild","resourcesChild","child","ignoredChildrenCount","Object","keys","MDXBlocks","forEach","customComponent","props","mdxType","slots","repeat","Math","max","parseInt","i","concat","split","map","slot","k","trim","length","fromEntries","width","childClone","cloneElement","push","splice","children","pageContext","useContext","Context","siteMetadata","location","allSitePage","allMdx","allGithub","allGithubContributors","isTranscludedContent","Children","frontmatter","layout","jsDocFilter","MDXProvider","components","MDXComponents","selectedPage","findSelectedPage","pathname","subPages","selectedPageSiblings","findSelectedPageSiblings","findSelectedPageNextPrev","nextPage","previousPage","componentPathObj","nodes","find","path","withPrefix","componentPath","tableOfContentsObj","fileAbsolutePath","tableOfContents","repository","branch","default_branch","root","contributorsObj","contributors","pagePath","replace","selectedTopPage","findSelectedTopPage","pages","selectedPages","findSelectedPages","selectedSubPages","levels","level","selectedSubPage","filter","page","pop","isJsDoc","jsDoc","isDocs","isDocsOverview","variant","isDiscovery","tableOfContentsItems","items","hasOnThisPage","title","isFirstSubPage","diff","layoutColumns","css","LARGE_SCREEN_WIDTH","externalContributors","date","Date","toLocaleDateString"],"mappings":"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","file":"2dee68d8-8fcab184b46db1ab42e6.js","sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport React, { Children, cloneElement, useContext } from 'react';\nimport { withPrefix } from 'gatsby';\nimport { MDXProvider } from '@mdx-js/react';\nimport { css } from '@emotion/react';\nimport Context from '../Context';\nimport {\n  layoutColumns,\n  findSelectedPage,\n  findSelectedPageSiblings,\n  findSelectedPageNextPrev,\n  findSelectedTopPage,\n  findSelectedPages,\n  LARGE_SCREEN_WIDTH\n} from '../../utils';\n\nimport { Footer } from '../Footer';\nimport { Contributors } from '../Contributors';\nimport { Feedback } from '../Feedback';\nimport { GitHubActions } from '../GitHubActions';\nimport { Breadcrumbs } from '../Breadcrumbs';\nimport { OnThisPage } from '../OnThisPage';\nimport { NextSteps } from '../NextSteps';\nimport { NextPrev } from '../NextPrev';\n\nimport { jsDocFilter } from '../JsDocParameters';\n\nimport { MDXComponents } from './MDXComponents';\nimport { MDXBlocks } from './MDXBlocks';\n\n// Filters custom MDX components out of the markdown\nconst filterChildren = ({ childrenArray, query, hasSideNav }) => {\n  const filteredChildren = [];\n\n  let heroChild = null;\n  let resourcesChild = null;\n\n  while (childrenArray.length) {\n    const child = childrenArray[0];\n    let ignoredChildrenCount = 0;\n\n    // Verify if child is a custom MDX component\n    Object.keys(MDXBlocks).forEach((customComponent) => {\n      if (child?.props?.mdxType === customComponent) {\n        ignoredChildrenCount++;\n\n        let slots = [];\n        // Custom MDX components have slots and/or repeat props to identify markdown content\n        // It's currently not possible to Interleaving Markdown in JSX with MDX v1 (https://github.com/mdx-js/mdx/issues/628)\n        if (child.props.slots || child.props.repeat) {\n          const repeat = Math.max(parseInt(child.props.repeat) || 1, 1);\n\n          for (let i = 0; i < repeat; i++) {\n            slots = slots.concat(\n              // Set default slots to element if repeat is defined\n              (child.props.slots || 'element')\n                .split(',')\n                .map((slot, k) => [`${slot.trim()}${repeat === 1 ? '' : i}`, childrenArray[slots.length + k + 1]])\n            );\n          }\n        }\n\n        if (slots.length) {\n          ignoredChildrenCount += slots.length;\n\n          const props = Object.fromEntries(slots);\n\n          if (child.props.mdxType === 'Variant') {\n            // Set the query to define if the Variant should show its content\n            props.query = query;\n          }\n\n          if (child.props.mdxType === 'Hero' && hasSideNav) {\n            props.width = 'calc(var(--spectrum-global-dimension-static-grid-fixed-max-width) - 256px);';\n          }\n\n          const childClone = cloneElement(child, {\n            ...props\n          });\n\n          if (child.props.mdxType === 'Hero') {\n            // Only 1 Hero per page allowed\n            heroChild = heroChild || childClone;\n          } else if (child.props.mdxType === 'Resources') {\n            // Only 1 Resources per page allowed\n            resourcesChild = resourcesChild || childClone;\n          } else {\n            filteredChildren.push(childClone);\n          }\n        } else {\n          filteredChildren.push(child);\n        }\n      }\n    });\n\n    if (ignoredChildrenCount === 0) {\n      ignoredChildrenCount++;\n\n      filteredChildren.push(child);\n    }\n\n    childrenArray = childrenArray.splice(ignoredChildrenCount);\n  }\n\n  return {\n    filteredChildren,\n    heroChild,\n    resourcesChild\n  };\n};\n\nexport default ({ children, pageContext, query }) => {\n  const { hasSideNav, siteMetadata, location, allSitePage, allMdx, allGithub, allGithubContributors } = useContext(\n    Context\n  );\n  const isTranscludedContent = typeof pageContext === 'undefined';\n  let childrenArray = Children.toArray(children);\n\n  if (isTranscludedContent || pageContext?.frontmatter?.layout === 'none') {\n    const { filteredChildren } = filterChildren({ childrenArray: jsDocFilter(childrenArray), query, hasSideNav });\n    return isTranscludedContent ? (\n      <MDXProvider>{filteredChildren}</MDXProvider>\n    ) : (\n      <MDXProvider components={{ ...MDXComponents, ...MDXBlocks }}>{filteredChildren}</MDXProvider>\n    );\n  } else {\n    // PrevNext\n    const selectedPage = findSelectedPage(location.pathname, siteMetadata.subPages);\n    const selectedPageSiblings = findSelectedPageSiblings(location.pathname, siteMetadata.subPages);\n    const { nextPage, previousPage } = findSelectedPageNextPrev(location.pathname, siteMetadata.subPages);\n\n    // OnThisPage\n    const componentPathObj = allSitePage.nodes.find(({ path }) => withPrefix(path) === location.pathname);\n    const componentPath = componentPathObj?.componentPath ?? '';\n    const tableOfContentsObj = allMdx.nodes.find(({ fileAbsolutePath }) => fileAbsolutePath === componentPath);\n    const tableOfContents = tableOfContentsObj?.tableOfContents ?? {};\n\n    // Github\n    const { repository, default_branch: branch, root } = allGithub.nodes[0];\n    const contributorsObj = allGithubContributors.nodes.find(\n      ({ path: fileAbsolutePath }) => fileAbsolutePath === componentPath\n    );\n    const contributors = contributorsObj?.contributors ?? [];\n    const pagePath = componentPath.replace(/.*\\/src\\/pages\\//g, '');\n\n    // Breadcrumbs\n    const selectedTopPage = findSelectedTopPage(location.pathname, siteMetadata.pages);\n    const selectedPages = findSelectedPages(location.pathname, siteMetadata.subPages);\n\n    // Remove duplicated levels\n    let selectedSubPages = [];\n    if (selectedPages.length) {\n      const levels = selectedPages[selectedPages.length - 1].level + 1;\n      for (let level = 0; level < levels; level++) {\n        const selectedSubPage = selectedPages.filter((page) => page.level === level);\n        if (selectedSubPage.length) {\n          // Add the last item corresponding to the current level\n          selectedSubPages.push(selectedSubPage.pop());\n        }\n      }\n    }\n\n    // JSDoc filter\n    let isJsDoc = false;\n    if (pageContext?.frontmatter?.jsDoc) {\n      isJsDoc = true;\n      childrenArray = jsDocFilter(childrenArray);\n    }\n\n    // Custom MDX components\n    const { filteredChildren, heroChild, resourcesChild } = filterChildren({ childrenArray, hasSideNav });\n\n    const isDocs = hasSideNav && heroChild === null;\n    const isDocsOverview = heroChild !== null && (!heroChild.props.variant || heroChild.props.variant === 'default');\n    const isDiscovery = heroChild !== null && heroChild.props.variant && heroChild.props.variant !== 'default';\n\n    const tableOfContentsItems = tableOfContents?.items?.[0]?.items;\n    const hasOnThisPage =\n      !heroChild &&\n      (hasSideNav || isJsDoc) &&\n      tableOfContentsItems &&\n      (tableOfContentsItems.length > 1 ||\n        (tableOfContentsItems.length === 1 && tableOfContentsItems[0]?.items?.length > 0) ||\n        tableOfContentsItems[0]?.title);\n    const isFirstSubPage = selectedPage?.path === selectedPageSiblings?.[0]?.path;\n\n    const columns = 12;\n    const diff = [];\n    if (hasOnThisPage) {\n      diff.push(`${layoutColumns(2)} - var(--spectrum-global-dimension-size-400)`);\n    }\n    if (hasSideNav) {\n      diff.push('256px');\n    }\n\n    return (\n      <MDXProvider components={{ ...MDXComponents, ...MDXBlocks }}>\n        <main\n          css={css`\n            align-items: center;\n            justify-content: center;\n            display: flex;\n            flex-direction: column;\n          `}>\n          {heroChild && heroChild}\n          <div\n            css={css`\n              ${isDiscovery\n                ? 'width: var(--spectrum-global-dimension-static-grid-fluid-width);'\n                : `\n                max-width: var(--spectrum-global-dimension-static-grid-fixed-max-width);\n                margin: 0 var(--spectrum-global-dimension-size-800);\n                `}\n\n              ${isDocsOverview &&\n              `\n                h2:first-of-type {\n                  margin-top: 0 !important;\n                }\n              `}\n\n              @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                max-width: none;\n                margin: 0 var(--spectrum-global-dimension-size-400);\n              }\n            `}>\n            <div\n              css={css`\n                display: flex;\n              `}>\n              <div\n                css={css`\n                  width: ${isDiscovery\n                    ? `\n                      var(--spectrum-global-dimension-static-grid-fluid-width);\n                      text-align: center;\n                      `\n                    : layoutColumns(columns, diff)};\n\n                  @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                    width: 100%;\n                  }\n                `}>\n                {isDocs && (\n                  <div\n                    css={css`\n                      display: flex;\n                      margin-top: var(--spectrum-global-dimension-size-500);\n                      margin-bottom: var(--spectrum-global-dimension-size-500);\n\n                      @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                        flex-direction: column;\n                      }\n                    `}>\n                    <div\n                      css={css`\n                        margin-right: var(--spectrum-global-dimension-size-400);\n                      `}>\n                      <Breadcrumbs selectedTopPage={selectedTopPage} selectedSubPages={selectedSubPages} />\n                    </div>\n                    <div\n                      css={css`\n                        margin-left: auto;\n\n                        @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                          margin-left: 0;\n                          margin-top: var(--spectrum-global-dimension-size-200);\n                        }\n                      `}>\n                      <GitHubActions repository={repository} branch={branch} root={root} pagePath={pagePath} />\n                    </div>\n                  </div>\n                )}\n\n                {filteredChildren}\n\n                {isDocs && isFirstSubPage && <NextSteps pages={selectedPageSiblings} />}\n\n                {isDocs && <NextPrev nextPage={nextPage} previousPage={previousPage} />}\n\n                {!isDiscovery && (\n                  <div\n                    css={css`\n                      display: flex;\n                      align-items: center;\n                      justify-content: space-between;\n                      margin-top: var(--spectrum-global-dimension-size-800);\n                      margin-bottom: var(--spectrum-global-dimension-size-400);\n\n                      @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                        flex-direction: column;\n                        align-items: flex-start;\n                      }\n                    `}>\n                    <div>\n                      <Contributors\n                        repository={repository}\n                        branch={branch}\n                        root={root}\n                        pagePath={pagePath}\n                        contributors={contributors}\n                        externalContributors={pageContext?.frontmatter?.contributors}\n                        date={\n                          contributors[0]\n                            ? new Date(contributors[0].date).toLocaleDateString()\n                            : new Date().toLocaleDateString()\n                        }\n                      />\n                    </div>\n                    <div\n                      css={css`\n                        @media screen and (max-width: ${LARGE_SCREEN_WIDTH}) {\n                          margin-top: var(--spectrum-global-dimension-size-200);\n                        }\n                      `}>\n                      <Feedback />\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {hasOnThisPage && <OnThisPage tableOfContents={tableOfContents} />}\n\n              {resourcesChild && resourcesChild}\n            </div>\n          </div>\n          <Footer hasSideNav={hasSideNav} />\n        </main>\n      </MDXProvider>\n    );\n  }\n};\n"],"sourceRoot":""}