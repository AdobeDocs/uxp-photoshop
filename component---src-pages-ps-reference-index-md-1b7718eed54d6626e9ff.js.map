{"version":3,"sources":["webpack://uxp-photoshop-documentation/./src/pages/ps_reference/index.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-ps-reference-index-md-1b7718eed54d6626e9ff.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/uxp-photoshop/uxp-photoshop/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"photoshop-api\"\n    }}>{`Photoshop API`}</h1>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`The following line allows you access to the Photoshop DOM via UXP.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\n`}</code></pre>\n    <p>{`From here, you can open documents, modify them, run menu items, and more.`}</p>\n    <h2 {...{\n      \"id\": \"synchronous-vs-asynchronous\"\n    }}>{`Synchronous vs Asynchronous`}</h2>\n    <p>{`An important difference between ExtendScript (and CEP) and UXP in Photoshop is that all ExtendScript calls to Photoshop were synchronous. This means they blocked the Photoshop UI while they were executing. In UXP, a method call is `}<em parentName=\"p\">{`asynchronous`}</em>{`, and does not block the UI thread.`}</p>\n    <p>{`For a smooth transition between the ExtendScript DOM and the UXP DOM, all properties (get and set) in the API were designed to be `}<em parentName=\"p\">{`synchronous`}</em>{` and do not need to be awaited. It is worth noting that they are, in the background, asynchronous in nature.`}</p>\n    <h2 {...{\n      \"id\": \"working-with-photoshop-objects\"\n    }}>{`Working with Photoshop Objects`}</h2>\n    <h3 {...{\n      \"id\": \"photoshop-application\"\n    }}>{`Photoshop Application`}</h3>\n    <p>{`Through the `}<a parentName=\"p\" {...{\n        \"href\": \"#overview\"\n      }}><inlineCode parentName=\"a\">{`app`}</inlineCode></a>{` object, you can access the rest of Photoshop's objects and methods.`}</p>\n    <p>{`The currently-active document is obtained like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const doc = app.activeDocument;\n`}</code></pre>\n    <p>{`And you can get an array of all open documents like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const allDocuments = app.documents;\n`}</code></pre>\n    <p>{`See more properties and methods in `}<inlineCode parentName=\"p\">{`app`}</inlineCode>{` under `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/photoshop/\"\n      }}>{`Photoshop`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"detour---executeasmodal\"\n    }}>{`Detour - ExecuteAsModal`}</h3>\n    <p>{`A key concept to understand before diving straight into Photoshop UXP plugin development is what we have termed \"execute as modal\". Any and all commands that may `}<strong parentName=\"p\">{`modify the document`}</strong>{`, or the `}<strong parentName=\"p\">{`application state`}</strong>{`, must utilize executeAsModal.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`async function makeDefaultDocument(executionContext) {\n  const app = require('photoshop').app;\n  let myDoc = await app.createDocument({preset: \"My Web Preset 1\"});\n}\n\nawait require('photoshop').core.executeAsModal(makeDefaultDocument);\n`}</code></pre>\n    <p>{`As you may notice, this restriction could encompass much of your plugin's functionality! There are many benefits for this model, however. A more detailed explanation is provided in the `}<a parentName=\"p\" {...{\n        \"href\": \"./media/executeasmodal/\"\n      }}>{`Execute as Modal documentation`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"document\"\n    }}>{`Document`}</h3>\n    <p>{`Represents a single, open Photoshop document. From this object, you can access the document's layers, dimensions, resolution, etc. You can crop it, add/delete/duplicate layers, resize, rotate, and save it.`}</p>\n    <p>{`Get the dimensions of the active document:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nconst myDoc = app.activeDocument;\nconst height = myDoc.height;\nconst width = myDoc.width;\nconst resolution = myDoc.resolution;\nconsole.log(\\`Doc size is \\${width} x \\${height}. Resolution is \\${resolution}\\`);\n`}</code></pre>\n    <p>{`Flatten all currently open documents:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nconst toFlatten = app.documents;\nasync function flattenThem(executionContext) {\n  toFlatten.forEach((photoshopDoc) => {\n    photoshopDoc.flatten();\n  });\n};\n\nawait require('photoshop').core.executeAsModal(flattenThem);\n`}</code></pre>\n    <p>{`Create a layer:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nasync function newColorDodgeLayer(executionContext) {\n  await app.activeDocument.createLayer({ name: \"myLayer\", opacity: 80, mode: \"colorDodge\" });\n};\n\nawait require('photoshop').core.executeAsModal(newColorDodgeLayer);\n`}</code></pre>\n    <p>{`See more properties and methods regarding `}<inlineCode parentName=\"p\">{`Document`}</inlineCode>{` under `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/document/\"\n      }}>{`Document`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/documents\"\n      }}>{`Documents`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"layer\"\n    }}>{`Layer`}</h3>\n    <p>{`Represents a Layer, or a group of Layers. This object is tied to a particular `}<a parentName=\"p\" {...{\n        \"href\": \"#Document\"\n      }}>{`Document`}</a>{`.`}</p>\n    <p>{`Decrease a layer's opacity and bring it to the front:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nconst doc = app.activeDocument;\nfunction bringActiveLayerToFront(executionContext) {\n  const layer = doc.activeLayers[0];\n  layer.opacity = layer.opacity - 10;\n  layer.bringToFront();\n};\n\nawait require('photoshop').core.executeAsModal(bringActiveLayerToFront);\n`}</code></pre>\n    <p>{`Scale down each layer whose name includes 'smaller'`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nconst doc = app.activeDocument;\nconst layers = doc.layers;\nasync function scaleLayers(executionContext) {\n  for (layer of layers) {\n    if (layer.name.includes('smaller')) {\n      await layer.scale(80, 80);\n    }\n  }\n};\n\nawait require('photoshop').core.executeAsModal(scaleLayers);\n`}</code></pre>\n    <p>{`Note that a layer's `}<inlineCode parentName=\"p\">{`kind`}</inlineCode>{` property can be `}<inlineCode parentName=\"p\">{`GROUP`}</inlineCode>{` for a Group layer (a layer or folder containing multiple layers). To access the layers in a Group layer, use the `}<inlineCode parentName=\"p\">{`layers`}</inlineCode>{` property, and the `}<inlineCode parentName=\"p\">{`parent`}</inlineCode>{` property to navigate the layer list tree.`}</p>\n    <p>{`See more properties and methods for `}<inlineCode parentName=\"p\">{`Layer`}</inlineCode>{` under `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/layer/\"\n      }}>{`Layer`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/layers/\"\n      }}>{`Layers`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"actions-and-actionsets\"\n    }}>{`Actions and ActionSets`}</h3>\n    <p>{`Many Photoshop users make heavy use of the `}<inlineCode parentName=\"p\">{`Actions`}</inlineCode>{` panel. Actions are essentially macros that can be recorded and played back to script commands and tools that you use frequently. Actions are grouped into `}<inlineCode parentName=\"p\">{`Action Sets`}</inlineCode>{`, similar to the way layers can be grouped into Group layers.`}</p>\n    <p>{`The Actions object allows you to delete, duplicate, rename, and play actions. There is no current way to `}<em parentName=\"p\">{`create`}</em>{` an action using UXP.`}</p>\n    <p>{`Similarly to Actions, the ActionSet object allows you to delete, duplicate, rename, and play Action Sets. There is no current way to `}<em parentName=\"p\">{`create`}</em>{` an Action Set.`}</p>\n    <p>{`Note that Actions and Action Sets exist app-wide; they're not tied to a specific Document.`}</p>\n    <p>{`Here's an example that finds a particular Action in the default Action Set, then plays it if it exists:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`const app = require('photoshop').app;\nconst allActionSets = app.actionTree;\nconst firstActionSet = allActionSets[0];\nlet actions = new Map(); // a JS Map allows easy \"find by name\" operations\nfirstActionSet.actions.forEach((action) => { actions.set(action.name, action)});\nconst myAction = actions.get(\"Wood Frame - 50 pixel\");\nif (myAction) { // user may have deleted this action\n  async function playMyAction(executionContext) {\n    await myAction.play();\n  }\n  await require('photoshop').core.executeAsModal(playMyAction);\n}\n`}</code></pre>\n    <p>{`See more properties and methods for `}<inlineCode parentName=\"p\">{`Action`}</inlineCode>{` under `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/action/\"\n      }}>{`Action`}</a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"./classes/actionset/\"\n      }}>{`ActionSet`}</a></p>\n    <h3 {...{\n      \"id\": \"batchplay\"\n    }}>{`batchPlay`}</h3>\n    <p>{`Photoshop is complex software, with many internal classes and methods. Not all of these are yet exposed via UXP. New interfaces are in development and will be shipped along with each release of Photoshop. In the meantime, if there is something your plugin or script needs to do that is not exposed in the current DOM, you may be able to use `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{`.`}</p>\n    <p>{`BatchPlay is for accessing Photoshop functionality that has not yet been exposed via APIs. BatchPlay is a way to send multiple actions into the Photoshop event queue and return their results.`}</p>\n    <p>{`ExtendScript has `}<inlineCode parentName=\"p\">{`executeAction`}</inlineCode>{`; this is analagous to UXP's `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{`. However, whereas `}<inlineCode parentName=\"p\">{`executeAction`}</inlineCode>{` could only play one descriptor at a time, `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{` accepts an array of action descriptors. If you have multiple Photoshop operations that need to execute in series, using an array of action descriptors in a single `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{` call is probably what you want.`}</p>\n    <p>{`Unlike ExtendScript where classes were provided to construct action descriptors, references and values, `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{` accepts plain JSON objects.`}</p>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"/uxp-photoshop/ps_reference/media/batchplay/\"\n      }}>{`batchPlay documentation`}</a>{` contains details on how to construct JSON for `}<inlineCode parentName=\"p\">{`batchPlay`}</inlineCode>{` usage.`}</p>\n    <h2 {...{\n      \"id\": \"uxp-scripting\"\n    }}>{`UXP Scripting`}</h2>\n    <p>{`UXP is not just for plugins anymore.  Individual JavaScript files may be developed and executed as detailed in the `}<a parentName=\"p\" {...{\n        \"href\": \"./media/uxpscripting\"\n      }}>{`UXP Scripting section`}</a>{`.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}