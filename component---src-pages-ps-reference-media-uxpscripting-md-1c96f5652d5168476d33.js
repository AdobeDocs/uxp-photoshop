"use strict";(self.webpackChunkuxp_photoshop_documentation=self.webpackChunkuxp_photoshop_documentation||[]).push([[51787],{11640:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return r},default:function(){return m}});var o=a(87462),n=a(63366),i=(a(15007),a(64983)),p=a(91515),s=["components"],r={},d={_frontmatter:r},l=p.Z;function m(e){var t=e.components,a=(0,n.Z)(e,s);return(0,i.mdx)(l,(0,o.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"uxp-scripting-in-photoshop"},"UXP Scripting in Photoshop"),(0,i.mdx)("p",null,"Running a standalone JavaScript file in UXP is now available in Photoshop 23.5.  As discussed in the ",(0,i.mdx)("a",{parentName:"p",href:"../../scripting"},"general documention of UXP Scripting"),", Photoshop recognizes the new file extension .psjs for JavaScript files that will be executed by UXP."),(0,i.mdx)("h2",{id:"running-a-file"},"Running a file"),(0,i.mdx)("p",null,"To run a script file, you have multiple options."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Select the file via the dialog from the menu File > Scripts > Browse..."),(0,i.mdx)("li",{parentName:"ul"},"Drag-and-drop the file onto the Ps icon in the Dock (Mac) or application frame (Mac and Win)."),(0,i.mdx)("li",{parentName:"ul"},"Play an Action that executes a script file."),(0,i.mdx)("li",{parentName:"ul"},"(",(0,i.mdx)("em",{parentName:"li"},"Coming soon"),") Double-click via a file type association for .psjs registered at installation.")),(0,i.mdx)("br",null),(0,i.mdx)("h2",{id:"developing-script-files"},"Developing Script files"),(0,i.mdx)("p",null,"As described in the ",(0,i.mdx)("a",{parentName:"p",href:"../../scripting"},"general documentation for UXP Scripting"),", script files are executed in a context that is mostly the same as those used in UXP plugins.  The primary task of controlling Photoshop is the same."),(0,i.mdx)("p",null,"Using the ",(0,i.mdx)("a",{parentName:"p",href:"../../"},"UXP Photoshop DOM API"),", we can do the following in a script file: ",(0,i.mdx)("a",{parentName:"p",href:"/uxp-photoshop/assets/48fddc10b6c92d4e9329e7bf9c44a6c0/cloudy.psjs"},"cloudy.psjs"),"."),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},"Create a new file."),(0,i.mdx)("li",{parentName:"ol"},"Create a new layer."),(0,i.mdx)("li",{parentName:"ol"},"Fill with the foreground color."),(0,i.mdx)("li",{parentName:"ol"},"Rename the layer."),(0,i.mdx)("li",{parentName:"ol"},"Apply the Clouds filter."),(0,i.mdx)("li",{parentName:"ol"},"Group the layer.")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-javascript"},'\nconst app = require(\'photoshop\').app;\napp.documents.add();\napp.activeDocument.createLayer({ name: "not descriptive name"});\nrequire(\'photoshop\').action.batchPlay([{"_obj":"fill", "using":{"_enum":"fillContents","_value":"foregroundColor"}\n}], {});\napp.activeDocument.layers[0].applyClouds();\napp.activeDocument.layers[0].name = \'cloudy\';\napp.activeDocument.createLayerGroup({fromLayers: app.activeDocument.layers[0]});\n')),(0,i.mdx)("p",null,(0,i.mdx)("em",{parentName:"p"},"Note the empty line at the top, you'll see why in the UDT screenshot.")),(0,i.mdx)("p",null,"You may have noticed the use of ",(0,i.mdx)("inlineCode",{parentName:"p"},"batchPlay")," to achieve one of the above steps.  We have an ",(0,i.mdx)("a",{parentName:"p",href:"./batchplay"},"at-length description")," of why to help break down the situation."),(0,i.mdx)("br",null),(0,i.mdx)("h2",{id:"debugging-script-files"},"Debugging Script files"),(0,i.mdx)("p",null,"Starting with Photoshop 23.5 and ",(0,i.mdx)("a",{parentName:"p",href:"https://creativecloud.adobe.com/apps/download/uxp-developer-tools"},"UXP Developer Tool")," (UDT) version 1.6.0, you can step through and debug a script.  "),(0,i.mdx)("p",null,"Again, the ",(0,i.mdx)("a",{parentName:"p",href:"../../scripting"},"general documentation for UXP Scripting"),", walked through using the UDT.  Here, we'll just show what the above script looks like loaded into UDT with a breakpoint activated.  From here you set breakpoints or Step Into the script files.  (That empty first line mentioned previously accommodates the wrapping that is applied to script file contents.)"),(0,i.mdx)("p",null,(0,i.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,i.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"19.0625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,i.mdx)("picture",{parentName:"span"},"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/5530d/cloudy_udt.webp 320w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/0c8fb/cloudy_udt.webp 640w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/94b1e/cloudy_udt.webp 1280w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/0bfe3/cloudy_udt.webp 1634w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,i.mdx)("source",{parentName:"picture",srcSet:["/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/dd4a7/cloudy_udt.png 320w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/0f09e/cloudy_udt.png 640w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/bbbf7/cloudy_udt.png 1280w","/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/54ba6/cloudy_udt.png 1634w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,i.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/uxp-photoshop/static/85ea60a5f6d3514053ae64991ed765d3/bbbf7/cloudy_udt.png",alt:"cloudy.psjs loaded into UDT",title:"cloudy.psjs loaded into UDT",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,i.mdx)("p",null,"Sharp-eyed readers will notice similarities between the properties under ",(0,i.mdx)("inlineCode",{parentName:"p"},"require('uxp').script")," and ",(0,i.mdx)("a",{parentName:"p",href:"./executeasmodal/#arguments"},"those present for ",(0,i.mdx)("inlineCode",{parentName:"a"},"executeAsModal")),".  Scripts are executed in a similar context.  The shared properties and methods of both will converge in the future with a shared understanding and usage patterns.  This documentation will be updated when they are ready for use."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-ps-reference-media-uxpscripting-md-1c96f5652d5168476d33.js.map